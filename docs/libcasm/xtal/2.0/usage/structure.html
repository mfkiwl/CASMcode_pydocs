
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
    <link href="../_static/small_logo.svg" rel="icon" type="image/svg+xml">
    <title>Structure construction and symmetry analysis &#8212; libcasm-xtal 2.0a8 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=1d1c7082" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script src="../_static/documentation_options.js?v=58649a15"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'usage/structure';</script>
    <link rel="icon" href="../_static/small_logo.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Prim Examples" href="../examples/prim/index.html" />
    <link rel="prev" title="Superlattice enumeration" href="superlattice.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/small_logo.svg" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../_static/small_logo_dark.svg" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">libcasm-xtal</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../usage.html">
                        Usage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../examples/prim/index.html">
                        Prim Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/libcasm/index.html">
                        Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../bibliography.html">
                        Bibliography
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../usage.html">
                        Usage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../examples/prim/index.html">
                        Prim Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/libcasm/index.html">
                        Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../bibliography.html">
                        Bibliography
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lattice.html">Lattice construction and symmetry analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="prim.html">Primitive crystal structure construction and symmetry analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="superlattice.html">Superlattice enumeration</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Structure construction and symmetry analysis</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../usage.html" class="nav-link">Usage</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Structure...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="structure-construction-and-symmetry-analysis">
<h1>Structure construction and symmetry analysis<a class="headerlink" href="#structure-construction-and-symmetry-analysis" title="Link to this heading">#</a></h1>
<p>The <a class="reference internal" href="../reference/libcasm/_autosummary/libcasm.xtal.Structure.html#libcasm.xtal.Structure" title="libcasm.xtal.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">Structure</span></code></a> class is used to represent a crystal of molecular and/or atomic occupants, and any additional properties.</p>
<p>Both enumerated configurations and calculation results may be represented using this format.</p>
<p><a class="reference internal" href="../reference/libcasm/_autosummary/libcasm.xtal.Structure.html#libcasm.xtal.Structure" title="libcasm.xtal.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">Structure</span></code></a> may specify atom and / or molecule coordinates and properties:</p>
<ul class="simple">
<li><p>lattice vectors</p></li>
<li><p>atom coordinates</p></li>
<li><p>atom type names</p></li>
<li><p>continuous atom properties</p></li>
<li><p>molecule coordinates</p></li>
<li><p>molecule type names</p></li>
<li><p>continuous molecule properties</p></li>
<li><p>continuous global properties</p></li>
</ul>
<p>Atom representation is most widely supported in CASM methods. In some limited cases the molecule representation is used.</p>
<section id="structure-construction">
<h2>Structure construction<a class="headerlink" href="#structure-construction" title="Link to this heading">#</a></h2>
<p>As an example, a Si-Ge ordering in the diamond cubic structure can be constructed as follows:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">libcasm.xtal</span> <span class="k">as</span> <span class="nn">xtal</span>

<span class="c1"># Lattice vectors</span>
<span class="n">lattice_column_vector_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span> <span class="mf">5.600000000000</span><span class="p">,</span> <span class="mf">0.000000000000</span><span class="p">,</span> <span class="mf">0.000000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">0.000000000000</span><span class="p">,</span> <span class="mf">5.600000000000</span><span class="p">,</span> <span class="mf">0.000000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">0.000000000000</span><span class="p">,</span> <span class="mf">0.000000000000</span><span class="p">,</span> <span class="mf">5.600000000000</span> <span class="p">]</span>
<span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>  <span class="c1"># &lt;--- note transpose</span>
<span class="n">lattice</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">Lattice</span><span class="p">(</span><span class="n">lattice_column_vector_matrix</span><span class="p">)</span>

<span class="c1"># Atom coordinates, as columns of a matrix, in Cartesian coordinates</span>
<span class="n">atom_coordinate_cart</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span> <span class="mf">0.000000000000</span><span class="p">,</span> <span class="mf">0.000000000000</span><span class="p">,</span> <span class="mf">0.000000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">2.800000000000</span><span class="p">,</span> <span class="mf">0.000000000000</span><span class="p">,</span> <span class="mf">2.800000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">0.000000000000</span><span class="p">,</span> <span class="mf">2.800000000000</span><span class="p">,</span> <span class="mf">2.800000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">2.800000000000</span><span class="p">,</span> <span class="mf">2.800000000000</span><span class="p">,</span> <span class="mf">0.000000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">1.400000000000</span><span class="p">,</span> <span class="mf">1.400000000000</span><span class="p">,</span> <span class="mf">1.400000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">4.200000000000</span><span class="p">,</span> <span class="mf">1.400000000000</span><span class="p">,</span> <span class="mf">4.200000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">1.400000000000</span><span class="p">,</span> <span class="mf">4.200000000000</span><span class="p">,</span> <span class="mf">4.200000000000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">4.200000000000</span><span class="p">,</span> <span class="mf">4.200000000000</span><span class="p">,</span> <span class="mf">1.400000000000</span> <span class="p">]</span>
<span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>

<span class="c1"># Atom coordinates, as columns of a matrix,</span>
<span class="c1"># in fractional coordinates with respect to the lattice vectors</span>
<span class="n">atom_coordinate_frac</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">cartesian_to_fractional</span><span class="p">(</span>
  <span class="n">lattice</span><span class="p">,</span>
  <span class="n">atom_coordinate_cart</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Atom types</span>
<span class="n">atom_type</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;Ge&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Ge&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span> <span class="p">]</span>

<span class="c1"># Construct the structure</span>
<span class="n">structure</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">Structure</span><span class="p">(</span>
    <span class="n">lattice</span><span class="o">=</span><span class="n">lattice</span><span class="p">,</span>
    <span class="n">atom_coordinate_frac</span><span class="o">=</span><span class="n">atom_coordinate_frac</span><span class="p">,</span>
    <span class="n">atom_type</span><span class="o">=</span><span class="n">atom_type</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="structure-properties">
<h2>Structure properties<a class="headerlink" href="#structure-properties" title="Link to this heading">#</a></h2>
<p>Local or global properties of the structure obtained from calculations can be added to a structure:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">libcasm.xtal</span> <span class="k">as</span> <span class="nn">xtal</span>

<span class="c1"># Lattice vectors</span>
<span class="n">lattice_column_vector_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000801520000</span><span class="p">,</span> <span class="mf">5.528984430000</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.000801520000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="o">-</span><span class="mf">0.000801520000</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.000801520000</span><span class="p">,</span> <span class="mf">5.528984430000</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">5.528984430000</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.000801520000</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.000801520000</span> <span class="p">]</span>
<span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>  <span class="c1"># &lt;--- note transpose</span>
<span class="n">lattice</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">Lattice</span><span class="p">(</span><span class="n">lattice_column_vector_matrix</span><span class="p">)</span>

<span class="c1"># Atom coordinates, as columns of a matrix, in Cartesian coordinates</span>
<span class="n">atom_coordinate_cart</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span> <span class="mf">5.509869982471</span><span class="p">,</span> <span class="mf">5.509869982471</span><span class="p">,</span> <span class="mf">5.509869982471</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">2.779560277905</span><span class="p">,</span> <span class="mf">2.779560277905</span><span class="p">,</span> <span class="mf">5.511669529816</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">5.511669529816</span><span class="p">,</span> <span class="mf">2.779560277905</span><span class="p">,</span> <span class="mf">2.779560277905</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">2.779560277905</span><span class="p">,</span> <span class="mf">5.511669529816</span><span class="p">,</span> <span class="mf">2.779560277905</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">1.399356755029</span><span class="p">,</span> <span class="mf">1.399356755029</span><span class="p">,</span> <span class="mf">1.399356755029</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">4.129666459595</span><span class="p">,</span> <span class="mf">4.129666459595</span><span class="p">,</span> <span class="mf">1.397557207684</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">1.397557207684</span><span class="p">,</span> <span class="mf">4.129666459595</span><span class="p">,</span> <span class="mf">4.129666459595</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mf">4.129666459595</span><span class="p">,</span> <span class="mf">1.397557207684</span><span class="p">,</span> <span class="mf">4.129666459595</span> <span class="p">]</span>
<span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>

<span class="c1"># Atom coordinates, as columns of a matrix,</span>
<span class="c1"># in fractional coordinates with respect to the lattice vectors</span>
<span class="n">atom_coordinate_frac</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">cartesian_to_fractional</span><span class="p">(</span>
  <span class="n">lattice</span><span class="p">,</span>
  <span class="n">atom_coordinate_cart</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Atom types</span>
<span class="n">atom_type</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;Ge&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Ge&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span> <span class="s2">&quot;Si&quot;</span> <span class="p">]</span>

<span class="c1"># Global properties</span>
<span class="n">global_properties</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;energy&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">41.486033340000</span><span class="p">},</span>
    <span class="s2">&quot;Ustrain&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.987318648214</span><span class="p">,</span> <span class="mf">0.987318648214</span><span class="p">,</span> <span class="mf">0.987318648214</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.000202414367</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.000202414367</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.000202414367</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Construct the structure with properties</span>
<span class="n">structure_with_properties</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">Structure</span><span class="p">(</span>
    <span class="n">lattice</span><span class="o">=</span><span class="n">lattice</span><span class="p">,</span>
    <span class="n">atom_coordinate_frac</span><span class="o">=</span><span class="n">atom_coordinate_frac</span><span class="p">,</span>
    <span class="n">atom_type</span><span class="o">=</span><span class="n">atom_type</span><span class="p">,</span>
    <span class="n">atom_properties</span><span class="o">=</span><span class="n">atom_properties</span><span class="p">,</span>
    <span class="n">global_properties</span><span class="o">=</span><span class="n">global_properties</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The positions of atoms or molecules in the crystal state is defined by the lattice and atom coordinates or molecule coordinates. If included, strain and displacement properties, which are defined in reference to an ideal state, should be interpreted as the strain and displacement that takes the crystal from the ideal state to the state specified by the structure lattice and atom or molecule coordinates. The convention used by CASM is that displacements are applied first, and then the displaced coordinates and lattice vectors are strained.</p>
<p>See the <a class="reference external" href="https://prisms-center.github.io/CASMcode_docs/formats/dof_and_properties/">CASM Degrees of Freedom (DoF) and Properties documentation</a> for the full list of supported properties and their definitions.</p>
</section>
<section id="common-structures">
<h2>Common structures<a class="headerlink" href="#common-structures" title="Link to this heading">#</a></h2>
<p>Some common structures can be constructed using the convenience methods in <a class="reference internal" href="../reference/libcasm/_autosummary/libcasm.xtal.structures.html#module-libcasm.xtal.structures" title="libcasm.xtal.structures"><code class="xref py py-mod docutils literal notranslate"><span class="pre">libcasm.xtal.structures</span></code></a>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">libcasm.xtal.structures</span> <span class="k">as</span> <span class="nn">xtal_structures</span>

<span class="c1"># Zr HCP structure, specified by conventional cubic lattice parameter `a`</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Zr_hcp</span> <span class="o">=</span> <span class="n">xtal_structures</span><span class="o">.</span><span class="n">HCP</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mf">3.23398686</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">5.16867834</span><span class="p">,</span> <span class="n">atom_type</span><span class="o">=</span><span class="s2">&quot;Zr&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Zr_hcp</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span>
<span class="p">{</span>
  <span class="s2">&quot;atom_coords&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.8671431841767125</span><span class="p">,</span> <span class="mf">1.292169585</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">1.6169934299999997</span><span class="p">,</span> <span class="mf">0.9335715920883563</span><span class="p">,</span> <span class="mf">3.8765087549999997</span><span class="p">]</span>
  <span class="p">],</span>
  <span class="s2">&quot;atom_type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Zr&quot;</span><span class="p">,</span> <span class="s2">&quot;Zr&quot;</span><span class="p">],</span>
  <span class="s2">&quot;coordinate_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;Cartesian&quot;</span><span class="p">,</span>
  <span class="s2">&quot;lattice_vectors&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="mf">3.23398686</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
    <span class="p">[</span><span class="o">-</span><span class="mf">1.61699343</span><span class="p">,</span> <span class="mf">2.800714776265069</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">5.16867834</span><span class="p">]</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="structure-factor-group-generation">
<h2>Structure factor group generation<a class="headerlink" href="#structure-factor-group-generation" title="Link to this heading">#</a></h2>
<p>The <cite>factor group</cite> of a structure is the set of transformations, with translation lying within the primitive unit cell, that leave the lattice vectors, basis site coordinates, and atom types invariant. It is found by creating a <a class="reference internal" href="../reference/libcasm/_autosummary/libcasm.xtal.Prim.html#libcasm.xtal.Prim" title="libcasm.xtal.Prim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Prim</span></code></a> with only the current atom types as allowed DoF and constructing the prim’s factor group. Currently this method only considers atom coordinates and types. Molecular coordinates and types are not considered.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">factor_group</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">make_structure_factor_group</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">...</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">factor_group</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">syminfo</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">SymInfo</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">lattice</span><span class="p">)</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">syminfo</span><span class="o">.</span><span class="n">brief_cart</span><span class="p">())</span>
<span class="o">...</span>     <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1: 1
2: 3⁺ 0.5773503*x, 0.5773503*x, 0.5773503*x
3: 3⁻ 0.5773503*x, 0.5773503*x, 0.5773503*x
4: 2 0.7, 0.7+0.7071068*y, 0.7-0.7071068*y
5: 2 0.7+0.7071068*x, 0.7-0.7071068*x, 0.7
6: 2 0.7+0.7071068*x, 0.7, 0.7-0.7071068*x
7: m x, 0.7071068*y, 0.7071068*y
8: m 0.7071068*x, 0.7071068*x, z
9: m 0.7071068*x, y, 0.7071068*x
10: -3⁺ 0.7+0.5773503*x, 0.7+0.5773503*x, 0.7+0.5773503*x; 0.7000000 0.7000000 0.7000000
11: -3⁻ 0.7+0.5773503*x, 0.7+0.5773503*x, 0.7+0.5773503*x; 0.7000000 0.7000000 0.7000000
12: -1 0.7000000 0.7000000 0.7000000
</pre></div>
</div>
</section>
<section id="crystal-point-group">
<h2>Crystal point group<a class="headerlink" href="#crystal-point-group" title="Link to this heading">#</a></h2>
<p>The crystal point group of a structure can be generated using the <a class="reference internal" href="../reference/libcasm/_autosummary/libcasm.xtal.make_structure_crystal_point_group.html#libcasm.xtal.make_structure_crystal_point_group" title="libcasm.xtal.make_structure_crystal_point_group"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_structure_crystal_point_group()</span></code></a> method:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">crystal_point_group</span> <span class="o">=</span> <span class="n">xtal</span><span class="o">.</span><span class="n">make_structure_crystal_point_group</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="structure-manipulation">
<h2>Structure manipulation<a class="headerlink" href="#structure-manipulation" title="Link to this heading">#</a></h2>
<p>The <a class="reference internal" href="../reference/libcasm/_autosummary/libcasm.xtal.make_structure_within.html#libcasm.xtal.make_structure_within" title="libcasm.xtal.make_structure_within"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_structure_within()</span></code></a> method returns an equivalent <a class="reference internal" href="../reference/libcasm/_autosummary/libcasm.xtal.Structure.html#libcasm.xtal.Structure" title="libcasm.xtal.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">Structure</span></code></a> with all atom and mol site coordinates within the unit cell.</p>
<p>The <a class="reference internal" href="../reference/libcasm/_autosummary/libcasm.xtal.make_superstructure.html#libcasm.xtal.make_superstructure" title="libcasm.xtal.make_superstructure"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_superstructure()</span></code></a> method can be used to create super structures.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="superlattice.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Superlattice enumeration</p>
      </div>
    </a>
    <a class="right-next"
       href="../examples/prim/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Prim Examples</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-construction">Structure construction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-properties">Structure properties</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-structures">Common structures</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-factor-group-generation">Structure factor group generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crystal-point-group">Crystal point group</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-manipulation">Structure manipulation</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/usage/structure.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, CASM Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>